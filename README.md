# NBAAAY Backend / API

- Backend for my nbaaay app written with nodejs using typescript & typeorm.
- Using postgres to store relational data.
- Exposes an expressjs app as an API for the mobile / web app being built to consume.

## Data it collects

* NBA Games for the current day (`data.nba.net/prod/v2/20180130/scoreboard.json`)
* Youtube videos for each game for the day (game highlights, player highlights, interviews etc.) using the SearchV3 Youtube API.
* Streamable clips from `reddit.com/r/nba/` + comments on the posts
* Game threads and post game threads (and all comments) from `reddit.com/r/nba/` for each game on that day.

## Steps to run this project:

1. Clone the repository and Run `npm install`
2. Setup database settings inside `ormconfig.json` file (currently written for postgresql)
3. Setup credentials for Reddit to use  Snoowrap (https://github.com/not-an-aardvark/snoowrap)
  - clientId: `process.env.REDDIT_CLIENT_ID`,
  - clientSecret: `process.env.REDDIT_CLIENT_SECRET`,
  - username: `process.env.REDDIT_USERNAME`,
  - password: `process.env.REDDIT_PASSWORD`
4. Setup credentials for Youtube API (https://developers.google.com/youtube/v3/quickstart/nodejs)
  - client_secret.json (download from google cloud console after enabling youtube API) in the `/scripts` folder.
  - youtube-nodejs-quickstart.json will be generated by the youtube.js script.
5. Run `npm script` command to run the crawler / Run `npm server` to start the API server.
